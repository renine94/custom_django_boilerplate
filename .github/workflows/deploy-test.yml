name: ğŸš€ [CICD í…ŒìŠ¤íŠ¸...]

on:
  push:
    branches: [main]

concurrency:
  group: deploy-test
  cancel-in-progress: true

env:
  APP_ENV: test
  ECR_NAME: my-backend-test

jobs:
  build:
    name: build
    runs-on: ubuntu-latest
    steps:
      - name: 1) Checkout code
        uses: actions/checkout@v3

      - name: 2) Test 01
        run: |
          echo "CICD íˆ´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤."
          echo GITHUB_ENV=$GITHUB_ENV
          echo GITHUB_ACTION=$GITHUB_ACTION
          echo GITHUB_EVENT_NAME=$GITHUB_EVENT_NAME
          echo GITHUB_HEAD_REF=$GITHUB_HEAD_REF

      - name: 3) ECR ì €ì¥ì†Œ ì´ë¦„
        run: |
          export ECR_NAME=my-backend-$APP_ENV
          echo $ECR_NAME
